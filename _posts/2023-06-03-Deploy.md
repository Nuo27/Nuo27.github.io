---
title: "Github Pages Deploy Docs"
author: Nuo Chen
excerpt: "A post to record how I can deploy my site to Github Pages with Jekyll."
tags:
  - github
  - jekyll
  - deploy
categories:
  - setup
toc: true
toc_label: "Table of Contents"
toc_icon: "cog"
---

# How I can deploy my site to Github Pages with Jekyll.

***
By using the [Jekyll](https://jekyllrb.com/) static site generator, I can build my site locally and deploy it to Github Pages. The following steps are based on the [Jekyll documentation](https://jekyllrb.com/docs/github-pages/).

I basically started with the following steps:
1. Create a new repository on Github with the name `username.github.io`, where `username` is my Github username.
2. Clone the repository to my local machine.
3. Try out building the website from scratch in HTML and CSS.
4. Search for a few Jekyll themes and test them to choose one as new starting point.
5. This original theme is [minimal-mistake]("https://github.com/mmistakes/minimal-mistakes") . I did a local copy and also remote-theme for local testing and actual page deployment.
6. Fill out with my own content and deploy to Github Pages.


# Deploy [minimal-mistake]("https://github.com/mmistakes/minimal-mistakes") Step by Step
I was using a Mac when setting up the site, so first get [Ruby](https://www.ruby-lang.org/en/documentation/installation/) installed, then install [Bundle](https://bundler.io/)

Then clone the repo or replace ur own repo with the theme.

## Local Gem-base
First add `gem "minimal-mistakes-jekyll"` to Gemfile and run `bundle install` to install the theme gem and dependencies. Then add `"theme: minimal-mistakes-jekyll"` to your site's `_config.yml` file. 

Then run a `bundle update` to load the theme gem and dependencies, this will be used if u r updating ur own plugins and stuff to gem or config

In order to work with Github Pages, change to `gem "github-pages", "~> GITHUB-PAGES-VERSION", group: :jekyll_plugins` and use a remote theme in `_config.yml` file.

Then add ur `username.github.io` to the `url` and ur repo path to `repository` in `_config.yml` file. Also add ur own content in the file.


Then test building and deploying the site locally: 
```bash
bundle exec jekyll serve
```

Then hit `http://localhost:4000` in ur browser to preview the site.

If all good do a commit and push the changes to Github. Then go to the repo settings and enable Github Pages. The site should be available at `https://username.github.io/` after a few minutes.
## Remote Theme-base
OR u want to have a remote theme as i did, u can replace Gemfile with
```
source "https://rubygems.org"
gem "github-pages", "~> 228", group: :jekyll_plugins
gem "minimal-mistakes-jekyll", :github => "mmistakes/minimal-mistakes"
gem "jekyll-include-cache", group: :jekyll_plugins
```
The version of github-pages might change, please check https://pages.github.com/versions/

Then add `jekyll-include-cache` to the `plugins` array of your `_config.yml`.

Run a `bundle update` then good to go.


# Replace Post-base index with a custom home page
## Custom home page
New ur custom html layout and add to`_layouts/` folder. u can refer to the base on from the theme. Then replace the `index.html` with ur custom one.

If u want to form ur index page with `markdown` file, u can just simply add a `index.md` file to the root folder. the contents will be generated and translate to `index.html` automatically.
## Add the Post home as a sub page
Now the tricky part is that the blogs/posts were originally generated by the theme. So if u want to keep the posts home page as a sub page, u need to customize a "Blog" Layout as the original index page, which will include a loop through all the posts. However, it should be easier if you just new a "Blog" folder with a `index.html` file in it. Then u can just simply use ur custom blog layout.

U might also want a paginator, Jekyll has a built-in paginator. U can refer to the [Jekyll pagination](https://jekyllrb.com/docs/pagination/) for more details. However, dont use the paginator-v2, it is not supported by Github Pages yet.

Then for the posts/blogs, either paginator display them `if paginator` `assign posts = paginator.posts` for u or `else` u can `assign posts = site.posts` in ur `index.html` file of the blog sub-folder and then loop through them to display ur posts.

# Reference to these for more details and documentation:
- [Github Page Official QuickStart](https://docs.github.com/en/pages/quickstart)
- [Jekyll Official Website](https://jekyllrb.com/)
- [minimal-mistake Github Repo](https://github.com/mmistakes/minimal-mistakes)
- [minimal-mistakes Theme Preview](https://mmistakes.github.io/minimal-mistakes/)